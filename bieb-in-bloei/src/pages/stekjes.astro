---
import { gql } from 'graphql-request';
import { hygraph } from '../utils/hygraph.js'; // Adjust path based on your folder structure
import BaseLayout from '../layouts/BaseLayout.astro';
import HeroHeaders from '../components/molecules/HeroHeaders.astro';
import IntroHeaders from '../components/atoms/IntroHeaders.astro';
import OverViewPages from '../components/molecules/OverViewPages.astro';

// Fetch data in frontmatter
const query = gql`
  query MyQuery {
    heroHeaders {
      heading1
      description
      image {
        url
      }
    }
    overviewPages {
      titel
      product {
        ... on Stekje {
          id
          aanmelddatum
          beschrijving
          createdAt
          categories {
            naam
          }
          giftig
          slug
          stekken
          temperatuur
          verpotten
          projectnaam
          voeding
          watergeven
          zonlicht
          onderhoud
          landvanherkomst
          naam
          fotos {
            url
          }
        }
      }
    }
  }
`;

// Fetching the data
const data = await hygraph.request(query);
const { heroHeaders, overviewPages } = data;
---
<BaseLayout>
        
    <HeroHeaders heroInfo={heroHeaders[0]} /> <!-- Passing data directly -->
    <IntroHeaders heroInfo={heroHeaders[0]} />
    <OverViewPages viewPageData={overviewPages[0]} />

</BaseLayout>